<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<style type="text/css">
   .reverse {
      background : blue;
      color : white;
   }
   .header {
      background : green;
      color : yellow;
   }
   table, td, th {
      border : 3px solid #222222;
      border-collapse: collapse;
   }
   .hover {
      background : skyblue;
      color : blue;
   }
</style>
<script type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript">
 $(function(){
	 $("tr").hover(function(){
		 //is() 함수 : 조건값을 리턴
		 //$(this).is(".header") : 이벤트 발생된 tr 태그의 class 속성이 header?		
//		 if(!$(this).is(".header")) {
	
	/*  
	   $(this) : 선택된 tr태그
	   $(this).parent() : table(tbody, thead) 태그.
	                                       선택된 tr 태그의 부모태그
	   $(this).parent().children() : table 태그의 하위 태그 둘
	   $(this).parent().children().index(this) : this의 태그들 중 this의 인덱스 값 리턴
	   $(this).parent().children().index(this) != 0 : this가 table의 첫번째 tr 태그가 아닌 경우
	*/
	     if($(this).parent().children().index(this) != 0) {
			   $(this).addClass("reverse");
		   }
	   },function(){
		   $(this).removeClass("reverse");
	   })
	 $("th").hover(function(){
		 //tdlen : 1개의 tr태그의 하위 th 태그의 갯수 == td의 갯수
		 var tdlen = $(this).parent().children().length;
	     //this의 index + 1
		 select = $(this).parent().children().index(this) + 1;
	     //$("td:nth-child(4n+1)")
		 $("td:nth-child("+tdlen+"n"+select+")").addClass("hover");
	 },function(){
		 var tdlen = $(this).parent().children().length;
		 select = $(this).parent().children().index(this) + 1;
		 $("td:nth-of-type("+tdlen+"n"+select+")").removeClass("hover");
	   })
 })
</script>
</head>
<body>
<table>
   <tr class="header"><th>이름</th><th>혈액형</th><th>지역</th><th>성별</th>
   <tr><td>강민</td><td>AB형</td><td>서울</td><td>남자</td>
   <tr><td>구자연</td><td>B형</td><td>일산</td><td>여자</td>
   <tr><td>김미화</td><td>A형</td><td>대구</td><td>여자</td>
   <tr><td>이선희</td><td>O형</td><td>광주</td><td>여자</td>
   <tr><td>남기주</td><td>B형</td><td>부산</td><td>남자</td>
   <tr><td>윤미란</td><td>A형</td><td>대전</td><td>여자</td>
</table>
</body>
</html>